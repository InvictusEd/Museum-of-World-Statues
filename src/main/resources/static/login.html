<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>登录</title>
  <!-- 引入element UI组件库的CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <style>
    body{
      margin: 0;
    }
  </style>
</head>
<body>
<div id="app">
  <el-container>
<!--    头部导航栏，后期修改-->
    <!--页头-->
    <el-header height="100px" style="background-color: black">
      <span style="float: left; margin-top: 5px;"><img src="imagesAll/adminImages/logo.jpg" width="300px"></span>
      <span>
        <template><a href="index.html" style="float: right; line-height: 100px; font-size: 30px;color: white;text-decoration: none">点击返回首页</a></template>
      </span>
    </el-header>
<!--    登录模块-->
    <el-main style="background-color: black">
      <img src="imagesAll/loginImages/loginBackground.jpg" style="margin-left: 150px;height: 600px;width: 600px;float: left">
      <el-card style="width: 500px;height: 300px;margin-left: 900px;margin-top: 100px;border-radius: 10px">
        <el-form label-width="80px" style="width: 400px;margin: 50px auto">
          <h2>立即登录</h2>
          <el-form-item label="用户名">
            <el-input v-model="userName" placeholder="请输入用户名" clearable></el-input>
          </el-form-item>
          <el-form-item label="密码">
            <el-input v-model="password" placeholder="请输入密码" show-password></el-input>
          </el-form-item>
          <el-form-item>
            <el-button type="warning" @click="login">登录</el-button>
            <a href="reg.html"><el-button type="warning" style="margin-left: 100px">注册</el-button></a>
          </el-form-item>
        </el-form>
      </el-card>
    </el-main>
  </el-container>
</div>
</body>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="axios.min.js"></script>
<script>
  let v = new Vue({
    el: '#app',
    data: function() {
      return {
        //变量
        userName:'',
        password:''
      }
    },
    created(){

    },
    methods:{
      login(){
        axios.get("/login?userName="+v.userName+"&password="+v.password).then(function (response) {
          if (response.data == 0){
            v.$message.error("用户名不存在")
          }else if (response.data == 1){
            v.$message.error("密码错误")
          }else if (response.data == 2){
            v.$message.success("用户登录成功")
            location.href = 'homePage.html'
          }else {
            v.$message.success("管理员登录成功")
            location.href = 'admin.html'
          }
        })
      }
    }
  })
</script>
</html>
